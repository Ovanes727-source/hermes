workflows:
  android-build:
    name: Android Build
    max_build_duration: 60
    scripts:
      - name: Make gradlew executable
        script: |
          echo "ðŸ”§ Ð”ÐµÐ»Ð°ÐµÐ¼ gradlew Ð¸ÑÐ¿Ð¾Ð»Ð½ÑÐµÐ¼Ñ‹Ð¼..."
          ls -la gradlew
          chmod +x gradlew
          ls -la gradlew
          
          echo "âœ… ÐŸÑ€Ð°Ð²Ð° Ð½Ð° gradlew:"
          stat gradlew | grep -i "access"
          
      - name: Build APK
        script: |
          echo "ðŸš€ Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ ÑÐ±Ð¾Ñ€ÐºÑƒ APK..."
          ./gradlew assembleDebug --stacktrace
          
      - name: Find APK files
        script: |
          echo "ðŸ” Ð˜Ñ‰ÐµÐ¼ ÑÐ¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ðµ APK..."
          find . -name "*.apk" -type f 2>/dev/null | while read file; do
            echo "âœ… ÐÐ°Ð¹Ð´ÐµÐ½: $file"
            ls -lh "$file"
          done
          
          echo ""
          echo "ðŸ“Š Ð’ÑÐµÐ³Ð¾ APK: $(find . -name "*.apk" -type f 2>/dev/null | wc -l)"
          
    artifacts:
      - "**/*.apk"
      - "app/build/outputs/**/*"
      
    publishing:
      email:
        recipients:
          - ovanes727@icloud.com
